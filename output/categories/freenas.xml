<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kirkg.us (Posts about FreeNAS)</title><link>https://www.kirkg.us/</link><description></description><atom:link href="https://www.kirkg.us/categories/freenas.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Sat, 27 Dec 2025 21:08:58 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>OpenVPN server in a FreeNAS 11 jail</title><link>https://www.kirkg.us/posts/openvpn-server-in-a-freenas-11-jail/</link><dc:creator>Kirk Gleason</dc:creator><description>&lt;div&gt;&lt;p&gt;FreeNAS 11 &lt;a href="http://www.freenas.org/blog/freenas-11-0/"&gt;was recently released&lt;/a&gt;, so I'm going to continue my series on &lt;a href="https://www.kirkg.us/posts/building-an-openvpn-server-inside-a-freenas-jail"&gt;running&lt;/a&gt; OpenVPN &lt;a href="https://www.kirkg.us/posts/running-an-openvpn-server-in-a-freenas-910-jail"&gt;servers&lt;/a&gt; from FreeNAS jails. In theory these instructions could be followed on any old &lt;a href="https://www.freebsd.org"&gt;FreeBSD&lt;/a&gt; 11 jail, but FreeNAS provides a friendly UI, so why not use it?&lt;/p&gt;
&lt;p&gt;For giggles, I'm taking screenshots for this with the new FreeNAS UI. So far it's nice. You should definitely try it.&lt;/p&gt;
&lt;h3&gt;Update the Jail config&lt;/h3&gt;
&lt;p&gt;The first thing I had to do was to fix the jails config. I did this by going to Jails -&amp;gt; Configuration (in the left hand nav menu). Under advanced mode, there is an option for "Collection URL". The value that was in there by default (http://download.freenas.org/latest/RELEASE/x64/jails) didn't work for me, but I managed to figure out that it should probably be something more like this one &lt;a href="http://download.freenas.org/jails/11/x64/"&gt;http://download.freenas.org/jails/11/x64/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.kirkg.us/posts/openvpn-server-in-a-freenas-11-jail/"&gt;Read more…&lt;/a&gt; (14 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>EasyRSA</category><category>FreeBSD</category><category>FreeNAS</category><category>Open Source</category><category>OpenVPN</category><guid>https://www.kirkg.us/posts/openvpn-server-in-a-freenas-11-jail/</guid><pubDate>Sat, 08 Jul 2017 18:02:49 GMT</pubDate></item><item><title>Running an OpenVPN server in a FreeNAS 9.10 jail</title><link>https://www.kirkg.us/posts/running-an-openvpn-server-in-a-freenas-910-jail/</link><dc:creator>Kirk Gleason</dc:creator><description>&lt;div&gt;&lt;p&gt;A while back, I wrote a post about &lt;a href="https://www.kirkg.us/posts/building-an-openvpn-server-inside-a-freenas-jail"&gt;building an OpenVPN server inside a FreeNAS jail&lt;/a&gt; for a friend who has a small &lt;a href="http://amzn.to/2F1TmlP"&gt;FreeNAS&lt;/a&gt; device, but doesn't have a firewall that will let him run an &lt;a href="https://www.openvpn.org"&gt;OpenVPN&lt;/a&gt; server directly. Much to my surprise, this article seems to have gotten some traction, so I'm posting an update to it (leaving the old one in place for posterity's sake).&lt;/p&gt;
&lt;p&gt;Since I wrote the previous article, a few things have changed. The most important change that the diligent reader will need to be aware of is that I've upgraded my &lt;a href="http://amzn.to/2F1TmlP"&gt;FreeNAS&lt;/a&gt; from the 9.3 train to the 9.10 train. The UI looks the same, but there is the added benefit of being able to use FreeBSD 10 as the jail template.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.kirkg.us/posts/running-an-openvpn-server-in-a-freenas-910-jail/"&gt;Read more…&lt;/a&gt; (14 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>EasyRSA</category><category>FreeBSD</category><category>FreeNAS</category><category>Open Source</category><category>OpenVPN</category><guid>https://www.kirkg.us/posts/running-an-openvpn-server-in-a-freenas-910-jail/</guid><pubDate>Sun, 19 Jun 2016 02:59:00 GMT</pubDate></item><item><title>Building an OpenVPN server inside a FreeNAS jail</title><link>https://www.kirkg.us/posts/building-an-openvpn-server-inside-a-freenas-jail/</link><dc:creator>Kirk Gleason</dc:creator><description>&lt;div&gt;&lt;p&gt;&lt;em&gt;Update 6/18/2016&lt;/em&gt;: New version of &lt;a href="https://www.kirkg.us/posts/building-an-openvpn-server-inside-a-freenas-910-jail"&gt;this tutorial&lt;/a&gt; added. If you are using EasyRSA version 3, then you should use the new tutorial. If you are still on version 2, then this tutorial is probably the one you want.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Edit 11/1/2015:&lt;/em&gt; Updated the Diffie Helman bit length to 2048 so that newer installs will not break with more recent installations of easy-rsa.&lt;/p&gt;
&lt;p&gt;If you have an up to date FreeNAS server (9.3 stable at the time of this writing), then this guide should walk you through building a jail and installing an OpenVPN server inside of it. The beauty of this system is that it is all being done inside a jail, so the odds of making a mistake that could take down your entire NAS is slim. If something goes awry, you can just delete the jail, and start over again.&lt;/p&gt;
&lt;p&gt;After you finish, you will end up with an certificate based OpenVPN server. Each user will need to have their own certificate to go along with their username and password. In essence, we'll be implementing a two factor authenticated VPN.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.kirkg.us/posts/building-an-openvpn-server-inside-a-freenas-jail/"&gt;Read more…&lt;/a&gt; (13 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>FreeBSD</category><category>FreeNAS</category><category>Open Source</category><category>OpenVPN</category><guid>https://www.kirkg.us/posts/building-an-openvpn-server-inside-a-freenas-jail/</guid><pubDate>Thu, 30 Apr 2015 23:23:36 GMT</pubDate></item></channel></rss>