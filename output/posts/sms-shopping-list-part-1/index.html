<!DOCTYPE html>
<html \ prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SMS Shopping List, Part 1 | kirkg.us</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://www.kirkg.us/posts/sms-shopping-list-part-1/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Kirk Gleason">
<link rel="prev" href="../jenkins-xamarinios-calabash-putting-it-all-together/" title="Jenkins, Xamarin.iOS, &amp; Calabash -- putting it all together" type="text/html">
<link rel="next" href="../giving-up-the-ghost/" title="Giving up the Ghost" type="text/html">
<meta property="og:site_name" content="kirkg.us">
<meta property="og:title" content="SMS Shopping List, Part 1">
<meta property="og:url" content="https://www.kirkg.us/posts/sms-shopping-list-part-1/">
<meta property="og:description" content="The Problem
I have 3 kids. And a wife. We lead pretty hectic lives, and there doesn't seem
to be an end in sight to the insanity. Given all of that, it seems as if we
always have a list of stuff that ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-06-28T21:54:58-05:00">
<meta property="article:tag" content="programming">
<meta property="article:tag" content="python">
<meta property="article:tag" content="technology">
<meta property="article:tag" content="twilio">
<link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
</head>
<body>

	<a href="#page-content" class="sr-only sr-only-focusable">
		Skip to main content
	</a>

	

    <section id="header"><a href="../../">
			<div class="logo">
					<div id="nologoimage">
						kirkg.us
					</div>
    		</div>
			</a>
    </section><section id="socialNav"><!-- Navigation Menu - on top on small screens, down the left on larger --><div class="navlinks">
			<a href="../../">
				<div id="titleauth">
    					kirkg.us<br> by Kirk Gleason
				</div>
			</a>

            <!-- Navigation links (hidden by default) -->
			<div id="navmenuitems">
				            <a href="../../index.html" title="Home">
                <span class="menuitemtext">Home</span>
                <span class="menuitemicon"><i class="fa fa-home"></i></span>
            </a>
            <a href="../../archive.html" title="Archives">
                <span class="menuitemtext">Archives</span>
                <span class="menuitemicon"><i class="fa fa-folder-open"></i></span>
            </a>
            <a href="../../categories/index.html" title="Tags">
                <span class="menuitemtext">Tags</span>
                <span class="menuitemicon"><i class="fa fa-tags"></i></span>
            </a>
            <a href="../../rss.xml" title="RSS">
                <span class="menuitemtext">RSS</span>
                <span class="menuitemicon"><i class="fa fa-rss"></i></span>
            </a>
            <a href="../" title="About me">
                <span class="menuitemtext">About me</span>
                <span class="menuitemicon"><i class="fa fa-user"></i></span>
            </a>
            <a href="https://www.linkedin.com/in/kirk-gleason/" title="LinkedIn">
                <span class="menuitemtext">LinkedIn</span>
                <span class="menuitemicon"><i class="fab fa-linkedin"></i></span>
            </a>
            <a href="https://github.com/kgleason" title="Github">
                <span class="menuitemtext">Github</span>
                <span class="menuitemicon"><i class="fab fa-github"></i></span>
            </a>
            <a href="https://www.gitlab.com/kgleason" title="GitLab">
                <span class="menuitemtext">GitLab</span>
                <span class="menuitemicon"><i class="fab fa-gitlab"></i></span>
            </a>
    
    

			</div>

            <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
			<a href="javascript:void(0);" id="hamburger" class="icon" onclick="toggleNav()">
				<i class="fa fa-bars">
				</i>
			</a>
		</div>

	</section><section class="page-content"><div class="content" rel="main">
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">SMS Shopping List, Part 1</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="." rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2014-06-28T21:54:58-05:00" itemprop="datePublished" title="2014-06-28 21:54">2014-06-28 21:54</time></a></p>

                    <p class="sourceline"><a href="index.rst" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            
                <div class="tags">
<h3 class="metadata-title">
<i class="fa fa-tags"></i> Tags:</h3>
        <ul itemprop="keywords" class="tags-ul">
<li><a class="tag p-category" href="../../categories/programming/" rel="tag">programming</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../categories/technology/" rel="tag">technology</a></li>
            <li><a class="tag p-category" href="../../categories/twilio/" rel="tag">twilio</a></li>
        </ul>
</div>

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <section id="the-problem"><h2>The Problem</h2>
<p>I have 3 kids. And a wife. We lead pretty hectic lives, and there doesn't seem
to be an end in sight to the insanity. Given all of that, it seems as if we
always have a list of stuff that we need from the grocery store.</p>
<p>More than once, I've been at the grocery store fulfilling the needs on the
pre-written list only to be bombarded with text messages asking for this and that.
Sometimes I get lucky and manage to get everything on the lists (the written
lists and all of the impromptu SMS lists). More often than not I end up overlooking
something because it isn't all in one place. Quite frankly it doesn't help that
I'm easily distracted in the grocery store.</p>
<p>There has to be a better way.</p>
<!-- TEASER_END -->
</section><section id="the-solution"><h2>The Solution</h2>
<p>Obviously, we need a centralized mobile list that is easy for everyone to add
to and access. Also, since everyone, myself excluded, prefers to communicate via
text message, it seems like I should probably use that.</p>
<p>Recently I've been playing around in Python. One day I stumbled across
Charles Leifer's <a class="reference external" href="https://charlesleifer.com/blog/saturday-morning-hack-a-little-note-taking-app-with-flask/">post</a> about writing a note taking app in Python with Flask.
I thought the idea was pretty brilliant, and it hit me that I could do something
like that to solve my shopping list problem.</p>
<p>The requirements, as I saw them:</p>
<ul class="simple">
<li><p>A centralized page to view the current list.</p></li>
<li><p>Ability to add items to the list via SMS</p></li>
<li><p>Ability to see who had added a specific item, and when</p></li>
</ul>
<p>At work we use <a class="reference external" href="http://www.twilio.com">Twilio</a> for web based telephony, so I
had a basic understanding of how it worked. I had already been through the
<a class="reference external" href="https://www.twilio.com/docs/quickstart/python/sms/hello-monkey">Twilio python tutorials</a> and knew how to do some pretty basic stuff in Python
with Twilio. The tutorials even used Flask. So the plan was decided.</p>
</section><section id="the-implementation"><h2>The implementation</h2>
<section id="set-up"><h3>Set up</h3>
<p>For the most part, I used <a class="reference external" href="https://www.twilio.com/docs/quickstart/python/devenvironment">Twilio's documentation</a> about setting up the dev
environment. The gist of it was something like this:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Install python and some tools:</dt>
<dd><ul>
<li><p><code class="docutils literal">brew installl python</code></p></li>
<li><p><code class="docutils literal">brew doctor</code></p></li>
<li><p>Fix any changes from above</p></li>
<li><p><code class="docutils literal">easy_install pip</code></p></li>
<li><p><code class="docutils literal">pip install virtualenv</code></p></li>
</ul></dd>
</dl></li>
<li><dl class="simple">
<dt>Create a virtual environment for holding all of my stuff:</dt>
<dd><ul>
<li><p><code class="docutils literal">virtualenv <span class="pre">--no-site-packages</span> SMShoppingList</code></p></li>
<li><p><code class="docutils literal">cd SMShoppingList</code></p></li>
<li><p><code class="docutils literal">source bin/activate</code></p></li>
</ul></dd>
</dl></li>
<li><dl class="simple">
<dt>Install the packages I need to get started</dt>
<dd><ul>
<li><p><code class="docutils literal">pip install Flask SQLAlchemy twilio <span class="pre">Flask-Migrate</span> <span class="pre">Flask-Script</span> WebHelpers</code></p></li>
</ul></dd>
</dl></li>
</ul>
<p>The last thing I did was to set up git with a .gitignore file. Nothing magical
here -- just <code class="docutils literal">git init</code> and then pull down the <a class="reference external" href="https://github.com/github/gitignore/blob/master/Python.gitignore">sample python .gitignore file</a>
from Github.</p>
</section><section id="getting-started"><h3>Getting started</h3>
<p>I started out with some basic stuff. First I made the directory structures that I needed
<code class="docutils literal">mkdir <span class="pre">-p</span> app/static app/templates</code> and then set up the init for the app:</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-1" name="rest_code_88d3755756014cce82962e0fe1626fc1-1"></a><span class="c1"># app/__init__.py</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-2" name="rest_code_88d3755756014cce82962e0fe1626fc1-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-3" name="rest_code_88d3755756014cce82962e0fe1626fc1-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask.ext.sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">SQLAlchemy</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-4" name="rest_code_88d3755756014cce82962e0fe1626fc1-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask.ext.script</span><span class="w"> </span><span class="kn">import</span> <span class="n">Manager</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-5" name="rest_code_88d3755756014cce82962e0fe1626fc1-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask.ext.migrate</span><span class="w"> </span><span class="kn">import</span> <span class="n">Migrate</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-6" name="rest_code_88d3755756014cce82962e0fe1626fc1-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">config</span><span class="w"> </span><span class="kn">import</span> <span class="n">CONFIG</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-7" name="rest_code_88d3755756014cce82962e0fe1626fc1-7"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-8" name="rest_code_88d3755756014cce82962e0fe1626fc1-8"></a><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-9" name="rest_code_88d3755756014cce82962e0fe1626fc1-9"></a><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">'SQLALCHEMY_DATABASE_URI'</span><span class="p">]</span> <span class="o">=</span> <span class="n">CONFIG</span><span class="p">[</span><span class="s1">'DBURI'</span><span class="p">]</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-10" name="rest_code_88d3755756014cce82962e0fe1626fc1-10"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-11" name="rest_code_88d3755756014cce82962e0fe1626fc1-11"></a><span class="n">db</span> <span class="o">=</span> <span class="n">SQLAlchemy</span><span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-12" name="rest_code_88d3755756014cce82962e0fe1626fc1-12"></a><span class="n">db</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">app</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-13" name="rest_code_88d3755756014cce82962e0fe1626fc1-13"></a><span class="n">db</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-14" name="rest_code_88d3755756014cce82962e0fe1626fc1-14"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-15" name="rest_code_88d3755756014cce82962e0fe1626fc1-15"></a><span class="n">migrate</span> <span class="o">=</span> <span class="n">Migrate</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">db</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-16" name="rest_code_88d3755756014cce82962e0fe1626fc1-16"></a><span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-17" name="rest_code_88d3755756014cce82962e0fe1626fc1-17"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_88d3755756014cce82962e0fe1626fc1-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a id="rest_code_88d3755756014cce82962e0fe1626fc1-18" name="rest_code_88d3755756014cce82962e0fe1626fc1-18"></a><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">views</span>
</code></td>
</tr>
</table></div>
<p>Basic models:</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_323e4828d46e48ae90a489fc27402c9a-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><a id="rest_code_323e4828d46e48ae90a489fc27402c9a-1" name="rest_code_323e4828d46e48ae90a489fc27402c9a-1"></a><span class="c1"># app/models.py</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_323e4828d46e48ae90a489fc27402c9a-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><a id="rest_code_323e4828d46e48ae90a489fc27402c9a-2" name="rest_code_323e4828d46e48ae90a489fc27402c9a-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">db</span>
</code></td>
</tr>
</table></div>
<p>Basic views:</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-1" name="rest_code_3abb7a270f8d45bcb75434fd12211452-1"></a><span class="c1"># app/views.py</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-2" name="rest_code_3abb7a270f8d45bcb75434fd12211452-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-3"><code data-line-number="3"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-3" name="rest_code_3abb7a270f8d45bcb75434fd12211452-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-4"><code data-line-number="4"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-4" name="rest_code_3abb7a270f8d45bcb75434fd12211452-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">app</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-5"><code data-line-number="5"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-5" name="rest_code_3abb7a270f8d45bcb75434fd12211452-5"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-6"><code data-line-number="6"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-6" name="rest_code_3abb7a270f8d45bcb75434fd12211452-6"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-7"><code data-line-number="7"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-7" name="rest_code_3abb7a270f8d45bcb75434fd12211452-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">index</span><span class="p">():</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_3abb7a270f8d45bcb75434fd12211452-8"><code data-line-number="8"></code></a></td>
<td class="code"><code><a id="rest_code_3abb7a270f8d45bcb75434fd12211452-8" name="rest_code_3abb7a270f8d45bcb75434fd12211452-8"></a>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">)</span>
</code></td>
</tr>
</table></div>
<p>A config file</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_fb07f4398da94209a15e658b1ac916af-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><a id="rest_code_fb07f4398da94209a15e658b1ac916af-1" name="rest_code_fb07f4398da94209a15e658b1ac916af-1"></a><span class="c1"># config.py</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_fb07f4398da94209a15e658b1ac916af-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><a id="rest_code_fb07f4398da94209a15e658b1ac916af-2" name="rest_code_fb07f4398da94209a15e658b1ac916af-2"></a><span class="n">CONFIG</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'DBURI'</span><span class="p">:</span> <span class="s1">'sqlite:////Users/kirk/Projects/SMShoppingList/app.db.sqlite3'</span> <span class="p">}</span>
</code></td>
</tr>
</table></div>
<p>The last thing I wanted was a Django-style manage.py. I'm not sure why I do it
this way, to be honest. It works for me, so I just roll with it. Until I find a
better way ....</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-1" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-1"></a><span class="c1"># manage.py</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-2" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">app</span><span class="p">,</span> <span class="n">manager</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-3"><code data-line-number="3"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-3" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask.ext.migrate</span><span class="w"> </span><span class="kn">import</span> <span class="n">MigrateCommand</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-4"><code data-line-number="4"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-4" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-4"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-5"><code data-line-number="5"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-5" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-5"></a><span class="n">manager</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s1">'db'</span><span class="p">,</span> <span class="n">MigrateCommand</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-6"><code data-line-number="6"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-6" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-6"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-7"><code data-line-number="7"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-7" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-7"></a><span class="n">app</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">True</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6c2546812c8c4a0da4edcf664ae541dd-8"><code data-line-number="8"></code></a></td>
<td class="code"><code><a id="rest_code_6c2546812c8c4a0da4edcf664ae541dd-8" name="rest_code_6c2546812c8c4a0da4edcf664ae541dd-8"></a><span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></td>
</tr>
</table></div></section><section id="adding-some-style-pages"><h3>Adding some style &amp; pages</h3>
<p>Since I have practically 0 design skills, I decided from the beginning that I
would use <a class="reference external" href="http://getbootstrap.com/">Twitter's Bootstrap</a> to just make a lot of that stuff work.
I downloaded the zip, and copied the dist/{css,js} into app/static.</p>
<div class="code"><table class="codetable"><tr>
<td class="linenos linenodiv"><a href="#rest_code_9d3b90ebdef644f981aa156d5b0b274d-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><a id="rest_code_9d3b90ebdef644f981aa156d5b0b274d-1" name="rest_code_9d3b90ebdef644f981aa156d5b0b274d-1"></a>cp<span class="w"> </span>-r<span class="w"> </span>~/Downloads/bootsrap-3.1.1/dist/<span class="o">{</span>css,js<span class="o">}</span><span class="w"> </span>app/static
</code></td>
</tr></table></div>
<p>With Bootstrap in place, I could start adding some basic pages. I started with a
basic HTML template to define the basic look of all of the pages of the site.</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-1" name="rest_code_71cdf021b4e94f4d8040781624314d95-1"></a># app/templates/layout.html
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-2" name="rest_code_71cdf021b4e94f4d8040781624314d95-2"></a><span class="cp">&lt;!DOCTYPE html&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-3" name="rest_code_71cdf021b4e94f4d8040781624314d95-3"></a><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-4" name="rest_code_71cdf021b4e94f4d8040781624314d95-4"></a>    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-5" name="rest_code_71cdf021b4e94f4d8040781624314d95-5"></a>        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Shopping List<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-6" name="rest_code_71cdf021b4e94f4d8040781624314d95-6"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">\"stylesheet\"</span> <span class="na">href</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">url_for</span><span class="err">('</span><span class="na">static</span><span class="err">',</span> <span class="na">filename</span><span class="o">=</span><span class="s">'css/bootstrap.min.css'</span><span class="err">)</span> <span class="err">}}\"</span><span class="p">/&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-7" name="rest_code_71cdf021b4e94f4d8040781624314d95-7"></a>        <span class="cm">&lt;!--&lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='css/custom.css') }}\"/&gt;--&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-8" name="rest_code_71cdf021b4e94f4d8040781624314d95-8"></a>        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">\"viewport\"</span> <span class="na">content</span><span class="o">=</span><span class="s">\"width=device-width,</span> <span class="na">initial-scale</span><span class="o">=</span><span class="s">1.0\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-9" name="rest_code_71cdf021b4e94f4d8040781624314d95-9"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">\"stylesheet\"</span> <span class="na">href</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">url_for</span><span class="err">('</span><span class="na">static</span><span class="err">',</span> <span class="na">filename</span><span class="o">=</span><span class="s">'css/bootstrap-responsive.min.css'</span><span class="err">)</span> <span class="err">}}\"</span> <span class="na">rel</span><span class="o">=</span><span class="s">\"stylesheet\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-10" name="rest_code_71cdf021b4e94f4d8040781624314d95-10"></a>        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">\"text/javascript\"</span> <span class="na">src</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">url_for</span><span class="err">('</span><span class="na">static</span><span class="err">',</span> <span class="na">filename</span><span class="o">=</span><span class="s">'js/refresh.js'</span><span class="err">)</span> <span class="err">}}\"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-11" name="rest_code_71cdf021b4e94f4d8040781624314d95-11"></a>        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">\"text/javascript\"</span> <span class="na">src</span><span class="o">=</span><span class="s">\"http://code.jquery.com/jquery.min.js\"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-12" name="rest_code_71cdf021b4e94f4d8040781624314d95-12"></a>        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">\"text/javascript\"</span> <span class="na">src</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">url_for</span><span class="err">('</span><span class="na">static</span><span class="err">',</span> <span class="na">filename</span><span class="o">=</span><span class="s">'js/bootstrap.min.js'</span><span class="err">)</span> <span class="err">}}\"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-13" name="rest_code_71cdf021b4e94f4d8040781624314d95-13"></a>    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-14" name="rest_code_71cdf021b4e94f4d8040781624314d95-14"></a>    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-15" name="rest_code_71cdf021b4e94f4d8040781624314d95-15"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">\"container\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-16" name="rest_code_71cdf021b4e94f4d8040781624314d95-16"></a>            <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-17" name="rest_code_71cdf021b4e94f4d8040781624314d95-17"></a>                <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">id</span><span class="o">=</span><span class="s">\"myNavbar\"</span> <span class="na">class</span><span class="o">=</span><span class="s">\"navbar</span> <span class="na">navbar-default</span> <span class="na">navbar-inverse</span> <span class="na">navbar-static-top</span><span class="err">\"</span> <span class="na">role</span><span class="o">=</span><span class="s">\"navigation\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-18" name="rest_code_71cdf021b4e94f4d8040781624314d95-18"></a>                    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">\"container\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-19" name="rest_code_71cdf021b4e94f4d8040781624314d95-19"></a>                        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">\"navbar-header\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-20" name="rest_code_71cdf021b4e94f4d8040781624314d95-20"></a>                            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">\"button\"</span> <span class="na">class</span><span class="o">=</span><span class="s">\"navbar-toggle\"</span> <span class="na">data-toggle</span><span class="o">=</span><span class="s">\"collapse\"</span> <span class="na">data-target</span><span class="o">=</span><span class="s">\"#navbarCollapse\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-21" name="rest_code_71cdf021b4e94f4d8040781624314d95-21"></a>                                <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">\"sr-only\"</span><span class="p">&gt;</span>Toggle navigation<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-22" name="rest_code_71cdf021b4e94f4d8040781624314d95-22"></a>                                <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">\"icon-bar\"</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-23"><code data-line-number="23"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-23" name="rest_code_71cdf021b4e94f4d8040781624314d95-23"></a>                                <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">\"icon-bar\"</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-24"><code data-line-number="24"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-24" name="rest_code_71cdf021b4e94f4d8040781624314d95-24"></a>                                <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">\"icon-bar\"</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-25"><code data-line-number="25"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-25" name="rest_code_71cdf021b4e94f4d8040781624314d95-25"></a>                            <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-26"><code data-line-number="26"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-26" name="rest_code_71cdf021b4e94f4d8040781624314d95-26"></a>                            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">\"navbar-brand\"</span> <span class="na">href</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">url_for</span><span class="err">('</span><span class="na">index</span><span class="err">')</span> <span class="err">}}\"</span><span class="p">&gt;</span>Shopping List<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-27"><code data-line-number="27"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-27" name="rest_code_71cdf021b4e94f4d8040781624314d95-27"></a>                        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-28"><code data-line-number="28"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-28" name="rest_code_71cdf021b4e94f4d8040781624314d95-28"></a>                        <span class="cm">&lt;!-- Collect the nav links, forms, and other content for toggling --&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-29"><code data-line-number="29"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-29" name="rest_code_71cdf021b4e94f4d8040781624314d95-29"></a>                        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">\"collapse</span> <span class="na">navbar-collapse</span><span class="err">\"</span> <span class="na">id</span><span class="o">=</span><span class="s">\"navbarCollapse\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-30"><code data-line-number="30"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-30" name="rest_code_71cdf021b4e94f4d8040781624314d95-30"></a>                            <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">\"nav</span> <span class="na">navbar-nav</span><span class="err">\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-31"><code data-line-number="31"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-31" name="rest_code_71cdf021b4e94f4d8040781624314d95-31"></a>                                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">url_for</span><span class="err">('</span><span class="na">people</span><span class="err">')</span> <span class="err">}}\"</span><span class="p">&gt;</span>People<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-32"><code data-line-number="32"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-32" name="rest_code_71cdf021b4e94f4d8040781624314d95-32"></a>                                <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">\"divider-vertical\"</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-33"><code data-line-number="33"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-33" name="rest_code_71cdf021b4e94f4d8040781624314d95-33"></a>                                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">url_for</span><span class="err">('</span><span class="na">help</span><span class="err">')</span> <span class="err">}}\"</span><span class="p">&gt;</span>Help<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-34"><code data-line-number="34"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-34" name="rest_code_71cdf021b4e94f4d8040781624314d95-34"></a>                            <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-35"><code data-line-number="35"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-35" name="rest_code_71cdf021b4e94f4d8040781624314d95-35"></a>                        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-36"><code data-line-number="36"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-36" name="rest_code_71cdf021b4e94f4d8040781624314d95-36"></a>                    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-37"><code data-line-number="37"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-37" name="rest_code_71cdf021b4e94f4d8040781624314d95-37"></a>                <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-38"><code data-line-number="38"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-38" name="rest_code_71cdf021b4e94f4d8040781624314d95-38"></a>            <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-39"><code data-line-number="39"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-39" name="rest_code_71cdf021b4e94f4d8040781624314d95-39"></a>            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">\"container\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-40"><code data-line-number="40"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-40" name="rest_code_71cdf021b4e94f4d8040781624314d95-40"></a>                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">\"blog-header\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-41"><code data-line-number="41"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-41" name="rest_code_71cdf021b4e94f4d8040781624314d95-41"></a>                    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">\"blog-title\"</span><span class="p">&gt;</span>Shopping List<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-42"><code data-line-number="42"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-42" name="rest_code_71cdf021b4e94f4d8040781624314d95-42"></a>                    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">\"lead</span> <span class="na">blog-description</span><span class="err">\"</span><span class="p">&gt;</span>Send an SMS so the shopping list number to add an item to the list<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-43"><code data-line-number="43"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-43" name="rest_code_71cdf021b4e94f4d8040781624314d95-43"></a>                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-44"><code data-line-number="44"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-44" name="rest_code_71cdf021b4e94f4d8040781624314d95-44"></a>            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-45"><code data-line-number="45"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-45" name="rest_code_71cdf021b4e94f4d8040781624314d95-45"></a>            {% block content %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-46"><code data-line-number="46"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-46" name="rest_code_71cdf021b4e94f4d8040781624314d95-46"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-47"><code data-line-number="47"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-47" name="rest_code_71cdf021b4e94f4d8040781624314d95-47"></a>            {% endblock %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-48"><code data-line-number="48"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-48" name="rest_code_71cdf021b4e94f4d8040781624314d95-48"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-49"><code data-line-number="49"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-49" name="rest_code_71cdf021b4e94f4d8040781624314d95-49"></a>            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">\"modal-footer\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-50"><code data-line-number="50"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-50" name="rest_code_71cdf021b4e94f4d8040781624314d95-50"></a>                <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span><span class="ni">&amp;copy;</span> kirkg.us<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-51"><code data-line-number="51"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-51" name="rest_code_71cdf021b4e94f4d8040781624314d95-51"></a>            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-52"><code data-line-number="52"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-52" name="rest_code_71cdf021b4e94f4d8040781624314d95-52"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-53"><code data-line-number="53"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-53" name="rest_code_71cdf021b4e94f4d8040781624314d95-53"></a>    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_71cdf021b4e94f4d8040781624314d95-54"><code data-line-number="54"></code></a></td>
<td class="code"><code><a id="rest_code_71cdf021b4e94f4d8040781624314d95-54" name="rest_code_71cdf021b4e94f4d8040781624314d95-54"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></td>
</tr>
</table></div>
<p>I'm not going to go through this line by line. Suffice to say that this template
defines a horizontal nav bar that persists across all of the pages, and a
persistent header &amp; footer.</p>
</section><section id="modelling-it-all-out"><h3>Modelling it all out</h3>
<p>With the basic site layout defined, it was time to get to some functionality. I
defined some models. From my requirements, I had 2 basic objects I was going to
need to deal with, a person and a list item.</p>
<p>Starting with a person, I knew that, at least at the beginning, I didn't want to
design a complicated authentication system. So with that, I really only needed
to know the persons name &amp; mobile phone number. Here is what I ended up with.</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-1" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-1"></a><span class="c1"># app/models.py Fragment</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-2" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-3" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-3"></a>    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">'person'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-4" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-4"></a>    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-5" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-5"></a>    <span class="n">firstname</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-6" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-6"></a>    <span class="n">lastname</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-7" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-7"></a>    <span class="n">mobile</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-8" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-8"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-9" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-9"></a><span class="nd">@classmethod</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-10" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-11" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-11"></a>    <span class="k">return</span> <span class="n">Person</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">lastname</span><span class="p">,</span> <span class="n">Person</span><span class="o">.</span><span class="n">firstname</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-12" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-12"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-13" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-13"></a><span class="nd">@classmethod</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-14" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-14"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_by_mobile</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">mobile</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-15" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-15"></a>    <span class="k">return</span> <span class="n">Person</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">mobile</span> <span class="o">==</span> <span class="n">mobile</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-16" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-16"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-17" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-17"></a><span class="nd">@property</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-18" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-18"></a><span class="k">def</span><span class="w"> </span><span class="nf">display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-19" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-19"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">firstname</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-20" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-20"></a>        <span class="k">return</span> \<span class="s2">"</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="se">\"</span><span class="s2">.format(self.firstname, self.lastname)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-21" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-21"></a>    <span class="k">else</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_a2506e725dbc47e7a338ca2cf88195d4-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><a id="rest_code_a2506e725dbc47e7a338ca2cf88195d4-22" name="rest_code_a2506e725dbc47e7a338ca2cf88195d4-22"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mobile</span>
</code></td>
</tr>
</table></div>
<p>The person class requires that a mobile phone number be unique. Since the
primary communication will be happening via SMS, duplicate mobile phone numbers
would be way too hard to deal with.</p>
<p>Aside from the basic class, I've added a couple of class methods. The <code class="docutils literal">all()</code>
class method will return a list of all of the people in the table. The
<code class="docutils literal">find_by_mobile()</code> is a shortcut way to find a person by their mobile number.</p>
<p>Lastly, I defined a class property (you may need to scroll down in the code window)
that is an easy way to get someone's name in the way I want to display it on the screen.</p>
<hr class="docutils">
<p>Thinking about an item in the list, I wanted to know the following things about it:</p>
<ul class="simple">
<li><p>what is it</p></li>
<li><p>who added it</p></li>
<li><p>when was it added</p></li>
<li><p>has it been purchased yet</p></li>
</ul>
<p>Given that, I ended up with a model that looks like this:</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-1" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ListItem</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-2" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-2"></a>    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">'list_item'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-3" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-3"></a>    <span class="nb">id</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-4" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-4"></a>    <span class="n">list_item</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="mi">200</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-5" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-5"></a>    <span class="n">created</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-6" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-6"></a>    <span class="n">closed</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-7" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-7"></a>    <span class="n">created_by</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">db</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">'person.id'</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-8" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-8"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-9" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-9"></a><span class="nd">@property</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-10" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">creator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-11" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-11"></a>    <span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">created_by</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-12" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-12"></a>    <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="n">display_name</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-13" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-13"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-14" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-14"></a><span class="nd">@property</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-15" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-15"></a><span class="k">def</span><span class="w"> </span><span class="nf">created_in_words</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-16" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-16"></a>    <span class="k">return</span> <span class="n">time_ago_in_words</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-17" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-17"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-18" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-18"></a><span class="nd">@classmethod</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-19" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-19"></a><span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-20" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-20"></a>    <span class="k">return</span> <span class="n">ListItem</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">ListItem</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-21" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-21"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-22" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-22"></a><span class="nd">@classmethod</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-23"><code data-line-number="23"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-23" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-23"></a><span class="k">def</span><span class="w"> </span><span class="nf">all_open</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_6a25d2d583d54f6cb9db4e851075a60a-24"><code data-line-number="24"></code></a></td>
<td class="code"><code><a id="rest_code_6a25d2d583d54f6cb9db4e851075a60a-24" name="rest_code_6a25d2d583d54f6cb9db4e851075a60a-24"></a>    <span class="k">return</span> <span class="n">ListItem</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ListItem</span><span class="o">.</span><span class="n">closed</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">ListItem</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></td>
</tr>
</table></div>
<p>Again I created a couple of class methods and properties to make my life easier
down the road. They should all be pretty self explanatory. You can see the
complete file, including all of the Python imports on <a class="reference external" href="https://github.com/kgleason/SMShoppingList/blob/5b057cbd9e68ab40b65969dfc3c4eca2d9114e54/app/models.py">github</a>.</p>
</section><section id="displaying-the-list"><h3>Displaying the list</h3>
<p>Next I needed some HTML to display the list.</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-1" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-1"></a># app/templates/index.html
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-2" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-2"></a>{% extends 'layout.html' %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-3" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-3"></a>{% block content %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-4" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-4"></a>    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>The List<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-5" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-5"></a>    <span class="p">&lt;</span><span class="nt">hr</span><span class="p">/&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-6" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-6"></a>{% if not my_list %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-7" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-7"></a>    The list appears to be empty
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-8" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-8"></a>{% else %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-9" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-9"></a>    <span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">\"table\"</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-10" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-10"></a>        <span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-11" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-11"></a>            <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-12" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-12"></a>                <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-13" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-13"></a>                <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Item<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-14" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-14"></a>                <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Requested By<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-15" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-15"></a>                <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Added<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-16" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-16"></a>            <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-17" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-17"></a>        <span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-18" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-18"></a>    <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-19" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-19"></a>{% for i in my_list %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-20" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-20"></a>        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-21" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-21"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">\"checkbox\"</span> <span class="na">name</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">i</span><span class="err">.</span><span class="na">id</span> <span class="err">}}\"</span> <span class="na">value</span><span class="o">=</span><span class="s">\"{{</span> <span class="na">i</span><span class="err">.</span><span class="na">purchased</span> <span class="err">}}\"</span><span class="p">/&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-22" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-22"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ i.list_item }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-23"><code data-line-number="23"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-23" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-23"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ i.creator }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-24"><code data-line-number="24"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-24" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-24"></a>            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ i.created_in_words }} ago<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-25"><code data-line-number="25"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-25" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-25"></a>        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-26"><code data-line-number="26"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-26" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-26"></a>{% endfor %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-27"><code data-line-number="27"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-27" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-27"></a>    <span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-28"><code data-line-number="28"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-28" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-28"></a><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-29"><code data-line-number="29"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-29" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-29"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-30"><code data-line-number="30"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-30" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-30"></a>{% endif %}
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_2460e5b895a544fb92596a0b1b11dc02-31"><code data-line-number="31"></code></a></td>
<td class="code"><code><a id="rest_code_2460e5b895a544fb92596a0b1b11dc02-31" name="rest_code_2460e5b895a544fb92596a0b1b11dc02-31"></a>{% endblock %}
</code></td>
</tr>
</table></div>
<p>This jinja2 template will process a Python dictionary passed in that is called
<code class="docutils literal">my_list</code>. It draws a table, and iterates over <code class="docutils literal">my_list</code> for each row in the
table. The last thing I need for a basic test is a way to generate the list to pass in.</p>
</section><section id="the-views"><h3>The views</h3>
<p>I knew that I needed to define the index view, and I quickly learned that I
needed to define every view that I reference in the layout.html file.</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-1" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-1"></a><span class="c1"># app/views.py</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-2" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-3" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-4" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">app</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-5" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ListItem</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-6" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-6"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-7" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-7"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-8" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">index</span><span class="p">():</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-9" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-9"></a>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">,</span> <span class="n">my_list</span><span class="o">=</span><span class="n">ListItem</span><span class="o">.</span><span class="n">all_open</span><span class="p">())</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-10" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-10"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-11" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-11"></a><span class="c1"># A place holder route until I build the people page.</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-12" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-12"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">'/people'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-13" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-13"></a><span class="k">def</span><span class="w"> </span><span class="nf">people</span><span class="p">():</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-14" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-14"></a>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-15" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-15"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-16" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-16"></a><span class="c1"># A place holder router until I build the help page</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-17" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-17"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">'/help'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-18" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-18"></a><span class="k">def</span><span class="w"> </span><span class="nf">help</span><span class="p">():</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a id="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-19" name="rest_code_b388ab5613bd40dfb3da1b822ecdf2cc-19"></a>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">'index.html'</span><span class="p">)</span>
</code></td>
</tr>
</table></div>
<p>For right now, the /people and /help pages will display an empty index page.
We'll get those pages fixed in a bit. The important bit in that file is the index route.
When the index.html template is rendered, it is passed in all of the open list items.</p>
</section><section id="testing"><h3>Testing</h3>
<p>At this point, it seemed like a good time to test. If you've taken the time to
read this far, then I think it is only fair that I admit that I am writing this
post several months after I wrote the code. I've reconcstucted a lot of what I
did, and how I did it from my git commit logs, and my general memory of that day.
At this point, I think that you should be able to run this thing, but it will be
pretty lack luster. If you are entering in the code line by line, then the next
steps <em>may not work</em>. If that is the case, I do apologize up front.</p>
<p>Before we can fire the whole thing up, need to build the database. Because of
the way that I have the manage.py file set up, it should be accomplishable with
the following commands:</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_897e6d5f6112413a82a224981237540b-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><a id="rest_code_897e6d5f6112413a82a224981237540b-1" name="rest_code_897e6d5f6112413a82a224981237540b-1"></a>python<span class="w"> </span>manage.py<span class="w"> </span>db<span class="w"> </span>init
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_897e6d5f6112413a82a224981237540b-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><a id="rest_code_897e6d5f6112413a82a224981237540b-2" name="rest_code_897e6d5f6112413a82a224981237540b-2"></a>python<span class="w"> </span>manage.py<span class="w"> </span>db<span class="w"> </span>migrate
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_897e6d5f6112413a82a224981237540b-3"><code data-line-number="3"></code></a></td>
<td class="code"><code><a id="rest_code_897e6d5f6112413a82a224981237540b-3" name="rest_code_897e6d5f6112413a82a224981237540b-3"></a>python<span class="w"> </span>manage.py<span class="w"> </span>db<span class="w"> </span>upgrade
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_897e6d5f6112413a82a224981237540b-4"><code data-line-number="4"></code></a></td>
<td class="code"><code><a id="rest_code_897e6d5f6112413a82a224981237540b-4" name="rest_code_897e6d5f6112413a82a224981237540b-4"></a>python<span class="w"> </span>manage.py<span class="w"> </span>runserver<span class="w"> </span>-r<span class="w"> </span>-d
</code></td>
</tr>
</table></div>
<p>The first command (db init) will create a migrations folder, and create the
database file itself. You only need to run this command one time.</p>
<p>The second command (db migrate) will cause the models that are defined in the
models.py to be converted into database scripts. Since this is the first
migration, essentially what will happen is that the create scripts for the 2
tables will be created.</p>
<p>The 3rd command (db upgrade) will apply the scripted changes, which are sitting
in the newly minted migrations folder, to the actual database.</p>
<p>The final command (runserver) will cause the Flask web server to start up. The
<cite>-r</cite> flag will make it look for changes in the underlying Python files. If
changes are detected, then the Flask server will reload itself automatically.
The <cite>-d</cite> flag causes it to run in debug mode, which means that you will get
useful debugging output in the web browser when a non-fatal error is encoutnered.</p>
<p>At this point, if all went well, you should be able to open a web browser and
browse to <a class="reference external" href="http://localhost:5000">localhost:5000</a> and see the basic layout of the site. Of course, the
list is empty so there isn't much to see.</p>
</section><section id="adding-some-items-by-hand"><h3>Adding some items by hand</h3>
<p>Without the SMS stuff set up, we need to resort to a couple of tricks to get
some data into the database so we can see what it looks like on the page. Go
ahead and fire up another terminal and <code class="docutils literal">cd</code> into your project directory.
Activate the virtual environment with <code class="docutils literal">source bin/activate</code>. Once you are in
the virtual environment, you can get an interactive shell with <code class="docutils literal">python manage.py shell</code>.
The commands below will walk through getting some basic stuff set up inside your app.</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-1" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-1"></a><span class="c1"># Import some bits from the app</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-2" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-2"></a><span class="c1"># The &gt;&gt;&gt; are the shell indicator in Python. You do not need to type them in.</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-3" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">app</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-4" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">app.models</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-5" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">config</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-6" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-6"></a><span class="o">&gt;&gt;&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-7" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-7"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-8" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-8"></a><span class="c1"># Start out by creating a person</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-9" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-9"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">firstname</span><span class="o">=</span><span class="s1">'Kirk'</span><span class="p">,</span> <span class="n">lastname</span><span class="o">=</span><span class="s1">'Gleason'</span><span class="p">,</span> <span class="n">mobile</span><span class="o">=</span><span class="s1">'+18005551212'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-10" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-10"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-11" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-11"></a><span class="c1"># You can verify your person object by calling them forth in Python:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-12" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-12"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">firstname</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-13" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-13"></a><span class="s1">'Kirk'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-14" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-14"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">mobile</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-15" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-15"></a><span class="s1">'+18005551212'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-16" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-16"></a><span class="o">&gt;&gt;&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-17" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-17"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-18" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-18"></a><span class="c1"># In models.py, we defined an ID to each person. Is it there?</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-19" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-19"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">id</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-20" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-20"></a><span class="o">&gt;&gt;&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-21" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-21"></a><span class="c1"># Guess not yet ....</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-22" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-22"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-23"><code data-line-number="23"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-23" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-23"></a><span class="c1"># Let's save it to the database.</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-24"><code data-line-number="24"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-24" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-24"></a><span class="c1"># Note that the following 2 steps will add the person record to the database.</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-25"><code data-line-number="25"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-25" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-25"></a><span class="c1"># If you don't want this to happen, then you should probably skip these commands.</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-26"><code data-line-number="26"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-26" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-26"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-27"><code data-line-number="27"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-27" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-27"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-28"><code data-line-number="28"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-28" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-28"></a><span class="o">&gt;&gt;&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-29"><code data-line-number="29"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-29" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-29"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-30"><code data-line-number="30"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-30" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-30"></a><span class="c1"># You can verify that it was written to the database by seeing if the ID was created, since it is the primary key in the database.</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-31"><code data-line-number="31"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-31" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-31"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">id</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-32"><code data-line-number="32"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-32" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-32"></a><span class="mi">1</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-33"><code data-line-number="33"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-33" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-33"></a><span class="o">&gt;&gt;&gt;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-34"><code data-line-number="34"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-34" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-34"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-35"><code data-line-number="35"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-35" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-35"></a><span class="c1"># Now that there is a person, we can add something to the list and save it to the database</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-36"><code data-line-number="36"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-36" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-36"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ListItem</span><span class="p">(</span><span class="n">list_item</span><span class="o">=</span><span class="s1">'Test Shopping List Item'</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-37"><code data-line-number="37"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-37" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-37"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_03bb0b555d7a4e47b301dd79c80bab96-38"><code data-line-number="38"></code></a></td>
<td class="code"><code><a id="rest_code_03bb0b555d7a4e47b301dd79c80bab96-38" name="rest_code_03bb0b555d7a4e47b301dd79c80bab96-38"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></td>
</tr>
</table></div>
<p>If you want, you can close out of the shell with Ctrl-D. Or you can leave it
open to continue adding items. First a couple of comments on what we just did.</p>
<p>We started by defining a person, and saving it in the database. We needed to create
the person first since the ListItem class requires a person for the 'created_by' field.</p>
<p>You may have noticed some special formatting on the phone number. If you
don't work with telephony very much, then it will look strange. That format however
is a pretty standard way to represent phone numbers in the world. This is the
format that Twilio uses and it is the format that I've chosen to stick with.
You can make it work differently, but you will need to make some changes in the
next article, when the Twilio bits are implemented. Twilio expects this format,
so I recommend that you save yourself the headache and implement it now. If you
did it incorrectly, and you have't yet closed your shell, then you can fix it
with <code class="docutils literal">p.mobile = '+1XXXXXXXXXX'</code> and then <code class="docutils literal">db.session.add(p)</code> and
<code class="docutils literal">db.session.commit()</code> to write the changes.</p>
<p>But the cool part is that if you refresh the page in your broswer, you will see
the newly added list item.</p>
<p>In the next installment, I'll walk through wrapping it all up. I'll cover adding
in the SMS functionalty, creating the People &amp; Help pages, and adding in some
jquery to remove items from the list when you tick the box. Since I had some
challenges deploying this to a production environment, I'll aslo walk through how
I deployed everything, and then what I forsee the future bringing for this app.</p>
</section></section>
</div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../jenkins-xamarinios-calabash-putting-it-all-together/" rel="prev" title="Jenkins, Xamarin.iOS, &amp; Calabash -- putting it all together">Previous post</a>
            </li>
            <li class="next">
                <a href="../giving-up-the-ghost/" rel="next" title="Giving up the Ghost">Next post</a>
            </li>
        </ul></nav></aside><footer id="footer"><p>
Contents © 2026         <a href="mailto:kirk@kirkg.us">Kirk Gleason</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a><br><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>

<a title="Web Analytics" href="http://clicky.com/101017846"><img alt="Web Analytics" src="//static.getclicky.com/media/links/badge.gif" border="0"></a>
<script src="//static.getclicky.com/js" type="text/javascript"></script><script type="text/javascript">try{ clicky.init(101017846); }catch(e){}</script><noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101017846ns.gif"></p></noscript>

</p>
            
        </footer></article>
</div>
	</section><script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>

    moment.locale("en");
    fancydates(1, "YYYY-MM-DD HH:mm");

	</script><!-- end fancy dates --><script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});

	</script><script src="../../assets/js/ToggleNav.js">
	</script>
</body>
</html>
